<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sight - Browser</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Whitney:wght@300;400;500;600;700&display=swap">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      background: url('https://wallpapers-clan.com/wp-content/uploads/2024/03/starfall-night-sky-mountains-aesthetic-gif-preview-desktop-wallpaper.gif') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Whitney', 'Segoe UI', Arial, sans-serif;
      color: #fff;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: ""; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5); z-index: 1;
    }

    /* Cursor */
    .cursor {
      position: fixed; width: 36px; height: 36px; border: 3px solid #8a2be2;
      border-radius: 50%; pointer-events: none; z-index: 9999;
      transition: all 0.1s ease; mix-blend-mode: difference;
      transform: translate(-50%, -50%);
    }
    .cursor::after {
      content: ''; position: absolute; top: 50%; left: 50%;
      width: 12px; height: 12px; background: #8a2be2; border-radius: 50%;
      transform: translate(-50%, -50%);
    }
    .cursor.hover { width: 48px; height: 48px; border-color: #00bfff; transform: translate(-50%,-50%) scale(1.1); }
    .cursor.hover::after { background: #00bfff; }

    /* Time Header */
    .time-header {
      position: relative; z-index: 20; background: rgba(0,0,0,0.4);
      backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .time-container {
      max-width: 520px; margin: 0 auto; padding: 15px 20px; text-align: center;
    }
    .glow-time {
      font-size: 2.2rem; font-weight: 700; letter-spacing: 3px;
      text-shadow: 0 0 8px rgba(0,212,255,0.8), 0 0 16px rgba(0,212,255,0.5);
    }
    .soft-date { font-size: 1rem; opacity: 0.9; letter-spacing: 1px; }

    /* Tabs */
    .tabs-bar {
      display: flex; background: rgba(0,0,0,0.6); backdrop-filter: blur(15px);
      border-bottom: 1px solid rgba(255,255,255,0.1); overflow-x: auto; z-index: 15;
    }
    .tab {
      padding: 12px 20px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
      color: #fff; font-weight: 500; cursor: pointer; white-space: nowrap; transition: all 0.2s;
      min-width: 120px; display: flex; align-items: center; gap: 8px;
    }
    .tab.active { background: rgba(138,43,226,0.8); border-color: #8a2be2; }
    .tab-close { font-size: 14px; opacity: 0.7; }
    .tab-close:hover { color: #ff4444; opacity: 1; }
    .new-tab-btn {
      padding: 12px 16px; background: rgba(75,0,130,0.8); border: none; color: #fff;
      cursor: pointer; transition: all 0.2s; font-size: 16px;
    }
    .new-tab-btn:hover { background: rgba(75,0,130,1); }

    /* Content */
    .content-area { flex: 1; position: relative; overflow: hidden; height: calc(100vh - 140px); }
    .browser-frame {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; display: none;
    }
    .browser-frame.active { display: block; }

    /* Homepage */
    .homepage { 
      display: flex; flex-direction: column; align-items: center; height: 100%; 
      padding: 60px 20px; text-align: center; background: rgba(0,0,0,0.3); 
      backdrop-filter: blur(10px);
    }
    .logo { font-size: 42px; font-weight: 800; background: linear-gradient(130deg, #fff, #dcdcdc); 
             -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 20px 0; }
    .search-container { max-width: 500px; width: 100%; margin: 30px 0; }
    .search-input {
      width: 100%; height: 60px; padding: 0 25px; font-size: 18px; border: 2px solid rgba(138,43,226,0.6);
      border-radius: 30px; background: rgba(255,255,255,0.1); color: #fff; backdrop-filter: blur(10px);
    }
    .search-input:focus { border-color: #8a2be2; outline: none; }
    .nav-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 16px; margin-top: 40px; }
    .nav-btn {
      background: rgba(35,35,40,0.95); color: #fff; padding: 14px 30px; border-radius: 10px;
      text-decoration: none; font-size: 15px; font-weight: 500; border: 1px solid rgba(255,255,255,0.12);
      display: inline-flex; align-items: center; gap: 8px; backdrop-filter: blur(10px);
      transition: all 0.2s;
    }
    .nav-btn:hover { background: rgba(55,55,60,0.9); transform: translateY(-2px); }

    /* Settings */
    .settings-btn {
      position: fixed; top: 80px; right: 20px; z-index: 100; background: rgba(75,0,130,0.8);
      border: none; color: #fff; width: 50px; height: 50px; border-radius: 50%; cursor: pointer;
    }
    .settings-modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8); z-index: 1000;
    }
    .settings-panel {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
      background: rgba(20,20,30,0.95); backdrop-filter: blur(20px); border-radius: 20px;
      padding: 30px; max-width: 400px; width: 90%; border: 1px solid rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>
  <div class="cursor" id="cursor"></div>

  <button class="settings-btn" id="settingsBtn" title="Settings">
    <i class="fas fa-cog"></i>
  </button>

  <div class="time-header">
    <div class="time-container">
      <div class="glow-time" id="currentTime"></div>
      <div class="soft-date" id="currentDate"></div>
    </div>
  </div>

  <div class="tabs-bar" id="tabsBar"></div>
  <div class="content-area" id="contentArea"></div>

  <div class="settings-modal" id="settingsModal">
    <div class="settings-panel">
      <h3>Settings</h3>
      <label>Cursor <input type="checkbox" id="cursorToggle" checked></label><br><br>
      <label>Background <input type="checkbox" id="bgToggle" checked></label><br><br>
      <label>Search: 
        <select id="defaultEngine">
          <option value="https://www.google.com/search?q=">Google</option>
          <option value="https://www.bing.com/search?q=">Bing</option>
        </select>
      </label><br><br>
      <button onclick="clearAllTabs()" style="width:100%;padding:12px;">Clear All Tabs</button>
      <br><br><button onclick="toggleSettings()" style="width:100%;padding:12px;">Close</button>
    </div>
  </div>

  <script>
    class SightBrowser {
      constructor() {
        this.tabs = [];
        this.activeTabId = null;
        this.settings = {
          cursor: true,
          background: true,
          engine: 'https://www.google.com/search?q='
        };
        this.init();
      }

      init() {
        this.loadSettings();
        this.createTab();
        this.updateTime();
        this.cursorSetup();
        this.eventSetup();
        setInterval(() => this.updateTime(), 1000);
      }

      createTab(url = null) {
        const id = Date.now() + Math.random();
        const tab = {
          id, title: url ? 'Loading...' : 'New Tab', url: null, isHome: !url
        };
        this.tabs.push(tab);
        this.renderTabs();
        this.activeTabId = id;
        if (tab.isHome) this.showHomepage(id);
        else this.loadURL(url, id);
      }

      renderTabs() {
        const bar = document.getElementById('tabsBar');
        bar.innerHTML = '<button class="new-tab-btn" id="newTab"><i class="fas fa-plus"></i></button>';
        this.tabs.forEach(tab => {
          const div = document.createElement('div');
          div.className = `tab ${tab.id === this.activeTabId ? 'active' : ''}`;
          div.dataset.id = tab.id;
          div.innerHTML = `
            <span>${tab.title.slice(0,20)}${tab.title.length > 20 ? '...' : ''}</span>
            <i class="fas fa-times tab-close"></i>
          `;
          bar.appendChild(div);
        });
      }

      showHomepage(tabId) {
        const area = document.getElementById('contentArea');
        const iframe = document.createElement('iframe');
        iframe.dataset.id = tabId;
        iframe.className = 'browser-frame';
        iframe.srcdoc = `
          <!DOCTYPE html>
          <html style="background:rgba(0,0,0,0.5);color:#fff;font-family:Whitney,Arial;">
          <body style="margin:0;padding:60px 20px;display:flex;flex-direction:column;align-items:center;height:100vh;">
            <div style="font-size:42px;font-weight:800;background:linear-gradient(130deg,#fff,#dcdcdc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:20px 0;">ùô®ùôûùôúùôùùô©</div>
            <div style="max-width:500px;width:100%;margin:30px 0;">
              <input class="search-input" placeholder="Search or type URL..." style="width:100%;height:60px;padding:0 25px;font-size:18px;border:2px solid rgba(138,43,226,0.6);border-radius:30px;background:rgba(255,255,255,0.1);color:#fff;" autofocus>
            </div>
            <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:16px;">
              <a href="https://sites.google.com/view/voteubg/prozy" target="_blank" style="background:rgba(35,35,40,0.95);color:#fff;padding:14px 30px;border-radius:10px;text-decoration:none;font-size:15px;font-weight:500;border:1px solid rgba(255,255,255,0.12);display:inline-flex;align-items:center;gap:8px;">üåê Prozy</a>
              <a href="https://sites.google.com/view/voteubg/learning" target="_blank" style="background:rgba(35,35,40,0.95);color:#fff;padding:14px 30px;border-radius:10px;text-decoration:none;font-size:15px;font-weight:500;border:1px solid rgba(255,255,255,0.12);display:inline-flex;align-items:center;gap:8px;">üéÆ Gxmes</a>
              <a href="https://sites.google.com/view/voteubg/movies" target="_blank" style="background:rgba(35,35,40,0.95);color:#fff;padding:14px 30px;border-radius:10px;text-decoration:none;font-size:15px;font-weight:500;border:1px solid rgba(255,255,255,0.12);display:inline-flex;align-items:center;gap:8px;">üé¨ Movies</a>
              <a href="https://sites.google.com/view/voteubg/partn" target="_blank" style="background:rgba(35,35,40,0.95);color:#fff;padding:14px 30px;border-radius:10px;text-decoration:none;font-size:15px;font-weight:500;border:1px solid rgba(255,255,255,0.12);display:inline-flex;align-items:center;gap:8px;">ü§ù Partners</a>
            </div>
          </body></html>`;
        area.appendChild(iframe);
        this.switchTab(tabId);
      }

      loadURL(query, tabId) {
        const tab = this.tabs.find(t => t.id === tabId);
        if (!tab) return;

        let url = query;
        if (!query.startsWith('http') && !query.includes('.')) {
          url = this.settings.engine + encodeURIComponent(query);
        } else if (!query.startsWith('http')) {
          url = 'https://' + query;
        }

        tab.url = url;
        tab.title = query.slice(0, 30) + (query.length > 30 ? '...' : '');

        const iframe = document.createElement('iframe');
        iframe.dataset.id = tabId;
        iframe.className = 'browser-frame';
        iframe.src = `https://YOUR-WORKER.workers.dev/?q=${encodeURIComponent(url)}`;
        document.getElementById('contentArea').appendChild(iframe);
        this.switchTab(tabId);
        this.renderTabs();
      }

      switchTab(id) {
        document.querySelectorAll('.browser-frame').forEach(f => f.classList.remove('active'));
        const frame = document.querySelector(`[data-id="${id}"]`);
        if (frame) frame.classList.add('active');
        this.activeTabId = id;
        this.renderTabs();
      }

      closeTab(id) {
        const frame = document.querySelector(`[data-id="${id}"]`);
        if (frame) frame.remove();
        this.tabs = this.tabs.filter(t => t.id !== id);
        this.renderTabs();
        if (this.tabs.length === 0) this.createTab();
        else this.switchTab(this.tabs[this.tabs.length - 1]?.id || null);
      }

      clearAllTabs() {
        document.getElementById('contentArea').innerHTML = '';
        this.tabs = [];
        this.createTab();
      }

      updateTime() {
        const now = new Date();
        document.getElementById('currentTime').textContent = 
          now.toLocaleTimeString('en-US', { hour12: true });
        document.getElementById('currentDate').textContent = 
          now.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });
      }

      cursorSetup() {
        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', e => {
          if (this.settings.cursor) {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
          }
        });
        ['mouseenter', 'mouseleave'].forEach(ev => {
          document.querySelectorAll('button, a, .tab, input').forEach(el => {
            el.addEventListener(ev, e => {
              if (this.settings.cursor) cursor.classList.toggle('hover', ev === 'mouseenter');
            });
          });
        });
      }

      eventSetup() {
        // New tab
        document.addEventListener('click', e => {
          if (e.target.id === 'newTab') this.createTab();
          if (e.target.closest('.tab-close')) this.closeTab(parseInt(e.target.closest('.tab').dataset.id));
          if (e.target.closest('.tab') && !e.target.closest('.tab-close')) {
            this.switchTab(parseInt(e.target.closest('.tab').dataset.id));
          }
        });

        // Search
        document.addEventListener('keypress', e => {
          if (e.target.classList.contains('search-input') && e.key === 'Enter') {
            const query = e.target.value.trim();
            if (query) {
              this.loadURL(query, this.activeTabId);
              e.target.value = '';
            }
          }
        });

        // Settings
        document.getElementById('settingsBtn').onclick = () => {
          document.getElementById('settingsModal').style.display = 
            document.getElementById('settingsModal').style.display === 'block' ? 'none' : 'block';
        };
        document.querySelectorAll('#cursorToggle, #bgToggle').forEach(cb => {
          cb.onchange = () => {
            this.settings.cursor = document.getElementById('cursorToggle').checked;
            this.settings.background = document.getElementById('bgToggle').checked;
            document.body.style.background = this.settings.background ? 
              "url('https://wallpapers-clan.com/wp-content/uploads/2024/03/starfall-night-sky-mountains-aesthetic-gif-preview-desktop-wallpaper.gif') no-repeat center center fixed" : '#000';
            document.getElementById('cursor').style.display = this.settings.cursor ? 'block' : 'none';
            localStorage.setItem('sight-settings', JSON.stringify(this.settings));
          };
        });
        document.getElementById('defaultEngine').onchange = () => {
          this.settings.engine = document.getElementById('defaultEngine').value;
          localStorage.setItem('sight-settings', JSON.stringify(this.settings));
        };
      }

      loadSettings() {
        const saved = localStorage.getItem('sight-settings');
        if (saved) {
          Object.assign(this.settings, JSON.parse(saved));
          document.getElementById('cursorToggle').checked = this.settings.cursor;
          document.getElementById('bgToggle').checked = this.settings.background;
          document.getElementById('defaultEngine').value = this.settings.engine;
          document.body.style.background = this.settings.background ? '' : '#000';
          document.getElementById('cursor').style.display = this.settings.cursor ? 'block' : 'none';
        }
      }
    }

    // Start the browser
    window.SightBrowser = new SightBrowser();
    window.clearAllTabs = () => SightBrowser.clearAllTabs();
    window.toggleSettings = () => document.getElementById('settingsModal').style.display = 'none';
  </script>
</body>
</html>
